[Rainmeter]
Update=1000
AccurateText=1
DynamicWindowSize=1
BackgroundMode=2
SolidColor=30,30,30,100
ContextTitle=Configurações
ContextAction=[!SetVariable ShowSettings 1][!WriteKeyValue Variables ShowSettings 1][!UpdateMeasure MeasureWatchSettings][!Update]
ContextTitle2=Largura da Skin
ContextAction2=[!CommandMeasure MeasureInputWidth "ExecuteBatch 1"]
ContextTitle3=Tamanho da Fonte
ContextAction3=[!CommandMeasure MeasureInputFont "ExecuteBatch 1"]
ContextTitle4=Tamanho dos Botões
ContextAction4=[!CommandMeasure MeasureInputButton "ExecuteBatch 1"]

[Metadata]
Name=To-Do List
Author=Adaptado
Information=Lista de tarefas simples
Version=2.0
License=GPL v3

[Variables]
SkinWidth=250
FONT_SIZE=9
BUTTON_SIZE=13
SHOW_RECURRING=1
SHOW_IMPORTANT=1
ACTIVE_TASK_COLOR=FFFFFF
COMLETED_TASK_COLOR=255,255,255,170
TRASH_LIMIT=10
BUTTON_COLOR=FEFEFE
FONT_FACE=Segoe UI
ShowSettings=0

[MeasureDynamicTasks]
Measure=Script
ScriptFile="#@#Main.lua"
TaskListFile=#CURRENTPATH#tasks.txt
TrashTaskListFile=#CURRENTPATH#trash.txt
DynamicMeterFile=#@#DynamicMeters.inc
SHOW_RECURRING=#SHOW_RECURRING#
SHOW_IMPORTANT=#SHOW_IMPORTANT#
ACTIVE_TASK_COLOR=#ACTIVE_TASK_COLOR#
COMLETED_TASK_COLOR=#COMLETED_TASK_COLOR#
TRASH_LIMIT=#TRASH_LIMIT#
BUTTON_SIZE=#BUTTON_SIZE#
BUTTON_COLOR=#BUTTON_COLOR#
FONT_FACE=#FONT_FACE#
FONT_SIZE=#FONT_SIZE#

[MeasureInput]
Measure=Plugin
Plugin=InputText
SolidColor=255,255,255
FontColor=0,0,0
FontFace=Segoe UI
FontSize=14
X=40
Y=8
H=24
W=200
DefaultValue="Nova tarefa..."
Command1=[!CommandMeasure MeasureDynamicTasks "AddTask('$UserInput$')"][!UpdateMeasure MeasureDynamicTasks][!Update]

[MeasureInputWidth]
Measure=Plugin
Plugin=InputText
SolidColor=255,255,255
FontColor=0,0,0
FontFace=Segoe UI
FontSize=12
X=200
Y=100
H=20
W=60
DefaultValue=#SkinWidth#
Command1=[!SetVariable SkinWidth $UserInput$][!WriteKeyValue Variables SkinWidth $UserInput$][!UpdateMeasure MeasureDynamicTasks][!UpdateMeter *][!Redraw]

[MeasureInputFont]
Measure=Plugin
Plugin=InputText
SolidColor=255,255,255
FontColor=0,0,0
FontFace=Segoe UI
FontSize=12
X=200
Y=140
H=20
W=60
DefaultValue=#FONT_SIZE#
Command1=[!SetVariable FONT_SIZE $UserInput$][!WriteKeyValue Variables FONT_SIZE $UserInput$][!UpdateMeasure MeasureDynamicTasks][!UpdateMeter *][!Redraw]

[MeasureInputButton]
Measure=Plugin
Plugin=InputText
SolidColor=255,255,255
FontColor=0,0,0
FontFace=Segoe UI
FontSize=12
X=200
Y=180
H=20
W=60
DefaultValue=#BUTTON_SIZE#
Command1=[!SetVariable BUTTON_SIZE $UserInput$][!WriteKeyValue Variables BUTTON_SIZE #BUTTON_SIZE#][!UpdateMeasure MeasureDynamicTasks][!UpdateMeter *][!Redraw]

[MeasureWatchSettings]
Measure=Calc
Formula=#ShowSettings#
IfCondition=#ShowSettings# = 1
IfTrueAction=[!ShowMeterGroup Settings][!HideMeterGroup DynamicTasks][!Redraw]
IfFalseAction=[!HideMeterGroup Settings][!ShowMeterGroup DynamicTasks][!Redraw]
DynamicVariables=1

; === SETTINGS PANEL ===
[MeterSettingsBg]
Meter=Shape
Group=Settings
X=0
Y=0
Shape=Rectangle 0,0,#SkinWidth#,290,0 | Fill Color 30,30,30,255 | StrokeWidth 0
DynamicVariables=1
Hidden=1

[MeterSettingsTitle]
Meter=String
Group=Settings
X=20
Y=20
FontSize=14
FontWeight=700
FontColor=255,255,255
FontFace=Segoe UI
Text=⚙ Configurações
AntiAlias=1
Hidden=1

[MeterLabelWidth]
Meter=String
Group=Settings
X=20
Y=55
FontSize=10
FontColor=200,200,200
FontFace=Segoe UI
Text=Largura:
AntiAlias=1
Hidden=1

[MeterInputWidth]
Meter=String
Group=Settings
X=180
Y=55
FontSize=10
FontColor=100,150,255
FontFace=Segoe UI
Text=#SkinWidth# px
AntiAlias=1
DynamicVariables=1
LeftMouseUpAction=[!CommandMeasure MeasureInputWidth "ExecuteBatch 1"]
MouseOverAction=[!SetOption MeterInputWidth FontColor "150,200,255"][!UpdateMeter MeterInputWidth][!Redraw]
MouseLeaveAction=[!SetOption MeterInputWidth FontColor "100,150,255"][!UpdateMeter MeterInputWidth][!Redraw]
Hidden=1

[MeterSliderWidth]
Meter=Shape
Group=Settings
X=20
Y=75
Shape=Rectangle 0,0,240,8,4 | Fill Color 50,50,50 | StrokeWidth 0
Shape2=Rectangle 0,0,(240*((#SkinWidth#-250)/550)),8,4 | Fill Color 100,150,255 | StrokeWidth 0
DynamicVariables=1
MouseScrollDownAction=[!SetVariable SkinWidth (Clamp(#SkinWidth#-10,250,800))][!WriteKeyValue Variables SkinWidth #SkinWidth#][!UpdateMeasure MeasureDynamicTasks][!UpdateMeter *][!Redraw]
MouseScrollUpAction=[!SetVariable SkinWidth (Clamp(#SkinWidth#+10,250,800))][!WriteKeyValue Variables SkinWidth #SkinWidth#][!UpdateMeasure MeasureDynamicTasks][!UpdateMeter *][!Redraw]
Hidden=1

[MeterLabelFont]
Meter=String
Group=Settings
X=20
Y=100
FontSize=10
FontColor=200,200,200
FontFace=Segoe UI
Text=Fonte:
AntiAlias=1
Hidden=1

[MeterInputFont]
Meter=String
Group=Settings
X=180
Y=100
FontSize=10
FontColor=100,200,100
FontFace=Segoe UI
Text=#FONT_SIZE# px
AntiAlias=1
DynamicVariables=1
LeftMouseUpAction=[!CommandMeasure MeasureInputFont "ExecuteBatch 1"]
MouseOverAction=[!SetOption MeterInputFont FontColor "150,255,150"][!UpdateMeter MeterInputFont][!Redraw]
MouseLeaveAction=[!SetOption MeterInputFont FontColor "100,200,100"][!UpdateMeter MeterInputFont][!Redraw]
Hidden=1

[MeterSliderFont]
Meter=Shape
Group=Settings
X=20
Y=120
Shape=Rectangle 0,0,240,8,4 | Fill Color 50,50,50 | StrokeWidth 0
Shape2=Rectangle 0,0,(240*((#FONT_SIZE#-8)/12)),8,4 | Fill Color 100,200,100 | StrokeWidth 0
DynamicVariables=1
MouseScrollDownAction=[!SetVariable FONT_SIZE (Clamp(#FONT_SIZE#-1,8,20))][!WriteKeyValue Variables FONT_SIZE #FONT_SIZE#][!UpdateMeasure MeasureDynamicTasks][!UpdateMeter *][!Redraw]
MouseScrollUpAction=[!SetVariable FONT_SIZE (Clamp(#FONT_SIZE#+1,8,20))][!WriteKeyValue Variables FONT_SIZE #FONT_SIZE#][!UpdateMeasure MeasureDynamicTasks][!UpdateMeter *][!Redraw]
Hidden=1

[MeterLabelButton]
Meter=String
Group=Settings
X=20
Y=145
FontSize=10
FontColor=200,200,200
FontFace=Segoe UI
Text=Botões:
AntiAlias=1
Hidden=1

[MeterInputButton]
Meter=String
Group=Settings
X=180
Y=145
FontSize=10
FontColor=255,150,100
FontFace=Segoe UI
Text=#BUTTON_SIZE# px
AntiAlias=1
DynamicVariables=1
LeftMouseUpAction=[!CommandMeasure MeasureInputButton "ExecuteBatch 1"]
MouseOverAction=[!SetOption MeterInputButton FontColor "255,200,150"][!UpdateMeter MeterInputButton][!Redraw]
MouseLeaveAction=[!SetOption MeterInputButton FontColor "255,150,100"][!UpdateMeter MeterInputButton][!Redraw]
Hidden=1

[MeterSliderButton]
Meter=Shape
Group=Settings
X=20
Y=165
Shape=Rectangle 0,0,240,8,4 | Fill Color 50,50,50 | StrokeWidth 0
Shape2=Rectangle 0,0,(240*((#BUTTON_SIZE#-10)/14)),8,4 | Fill Color 255,150,100 | StrokeWidth 0
DynamicVariables=1
MouseScrollDownAction=[!SetVariable BUTTON_SIZE (Clamp(#BUTTON_SIZE#-1,10,24))][!WriteKeyValue Variables BUTTON_SIZE #BUTTON_SIZE#][!UpdateMeasure MeasureDynamicTasks][!UpdateMeter *][!Redraw]
MouseScrollUpAction=[!SetVariable BUTTON_SIZE (Clamp(#BUTTON_SIZE#+1,10,24))][!WriteKeyValue Variables BUTTON_SIZE #BUTTON_SIZE#][!UpdateMeasure MeasureDynamicTasks][!UpdateMeter *][!Redraw]
Hidden=1

[MeterCloseBtn]
Meter=String
Group=Settings
X=20
Y=200
FontSize=10
FontColor=255,255,255
FontFace=Segoe UI
SolidColor=70,130,180,255
Padding=20,8,20,8
Text=Aplicar e Fechar
AntiAlias=1
LeftMouseUpAction=[!SetVariable ShowSettings 0][!WriteKeyValue Variables ShowSettings 0][!UpdateMeasure MeasureDynamicTasks][!UpdateMeasure MeasureWatchSettings][!Refresh]
MouseOverAction=[!SetOption MeterCloseBtn SolidColor "90,150,200,255"][!UpdateMeter MeterCloseBtn][!Redraw]
MouseLeaveAction=[!SetOption MeterCloseBtn SolidColor "70,130,180,255"][!UpdateMeter MeterCloseBtn][!Redraw]
Hidden=1

; === DYNAMIC TASKS ===
@Include=#@#DynamicMeters.inc
